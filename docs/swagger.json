{"openapi":"3.0.0","info":{"title":"Aplikasi Main Bareng","version":"1.0.0","description":"Aplikasi Main Bareng untuk mempertemukan pemuda-pemuda yang ingin berolahraga tim (futsal/voli/basket/minisoccer/soccer) dan booking tempat bersama. "},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}},"parameters":{"venue_id":{"in":"path","name":"venue_id","required":true,"$ref":"#/components/schemas/pathSchema","description":"ID dari venue"},"id":{"in":"path","name":"id","required":true,"$ref":"#/components/schemas/pathSchema","description":"ID dari venue/field/booking"}},"schemas":{"unprocessableEntitySchemas1":{"type":"object","properties":{"msg":{"type":"string"},"error":{"type":"array","items":{"type":"object","properties":{"rule":{"type":"string"},"field":{"type":"string"},"message":{"type":"string"}}}}}},"otp_confirmationSchema":{"type":"object","properties":{"email":{"type":"string"},"otp_code":{"type":"string"}},"required":["email","otp_code"]},"loginSchema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"pathSchema":{"schema":{"type":"number","minimum":1}},"UpdateVenueBody":{"schema":{"type":"object","properties":{"name":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"}}}},"UpdateFieldBody":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["soccer","mini soccer","futsal","basketball","volleyball"]}}}}},"responses":{"CreatedData":{"description":"Berhasil menambahkan data","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Berhasil menambahkan data"}}}}}},"UpdateData":{"description":"Berhasil update data","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Berhasil update data"}}}}}},"FailedUpdatedData":{"description":"Data gagal diperbarui / data tidak ada","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Data gagal diupdate data"},"error":{"type":"string","example":"E_ROW_NOT_FOUND: Row not found"}}}}}},"DeletedData":{"description":"Berhasil delete data","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Berhasil delete data"}}}}}},"FailedDeleteData":{"description":"Data gagal dihapus / data tidak ada","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Data gagal dihapus / data tidak ada"},"error":{"type":"string","example":"E_ROW_NOT_FOUND: Row not found"}}}}}},"Unauthorized":{"description":"Anda tidak memiliki hak akses","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"E_UNAUTHORIZED_ACCESS: Unauthorized access"}}}}}},"NotFound":{"description":"Data tidak ditemukan","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"Data tidak ada","example":"E_ROW_NOT_FOUND: Row not found"},"error":{"type":"string","example":"E_ROW_NOT_FOUND: Row not found"}}}}}},"VenueNotFound":{"description":"Data tidak ditemukan","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","example":"Data venue tidak ada"}}}}}}}},"paths":{"/api/v1/bookings":{"get":{"summary":"Menampilkan list booking semuanya","description":"Dapat filter berdasarkan user id dan field id","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"query","name":"userId","required":false,"schema":{"type":"number","minimum":1},"description":"Optional !! ID dari user yang melakukan booking"},{"in":"query","name":"fieldId","required":false,"schema":{"type":"string","minimum":1},"description":"Optional !! ID dari field yang dibooking"}],"responses":{"200":{"description":"Data Booking didapat","content":{"application/json":{"example":{"msg":"Data booking ditemukan","data":[{"id":1,"keterangan":"main futsal","user_id":1,"field_id":1,"play_date_start":"2021-09-26T09:00:00.000+07:00","play_date_end":"2021-09-26T19:00:00.000+07:00"}]}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/v1/bookings/{id}":{"get":{"summary":"Menampilkan data booking berdasarkan id","description":"Menampilkan detail booking dengan id tertentu beseta list pemain yang sudah mendaftar","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Masukan id booking"}],"responses":{"200":{"description":"Data Booking didapat","content":{"application/json":{"example":{"msg":"Data booking ditemukan","data":{"id":1,"keterangan":"main futsal","user_id":1,"field_id":1,"play_date_start":"2021-09-26T09:00:00.000+07:00","play_date_end":"2021-09-26T19:00:00.000+07:00","players_count":1,"players":[{"id":1,"name":"Fajar","email":"fajar@mail.com"}]}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"summary":"Menghapus jadwal booking","description":"Menghapus jadwal booking otomatis menghapus pada user","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari booking yang mau dihapus"}],"responses":{"200":{"$ref":"#/components/responses/DeletedData"},"422":{"$ref":"#/components/responses/FailedDeleteData"}}}},"/api/v1/venue/{venue_id}/bookings":{"post":{"summary":"Menambahkan jadwal booking baru","description":"Membuat jadwal booking di venue untuk tanggal tertentu. Hanya Pengguna User yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue field yang akan di booking"}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Booking"}},"application/json":{"schema":{"$ref":"#definitions/Booking"}}}},"responses":{"201":{"$ref":"#/components/responses/CreatedData"},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/VenueNotFound"},"422":{"description":"Gagal menambahkan jadwal booking","content":{"application/json":{"example":{"msg":"Gagal menyimpan data field","error":[{"rule":"required","field":"keterangan","message":"Harap isi field keterangan"},{"rule":"date.format","field":"play_date_start","message":"Format waktu adalah yyyy-MM-ddTHH:mm:ss"}]}}}}}}},"/api/v1/bookings/{id}/join":{"put":{"summary":"Mendaftarkan pada jawal booking","description":"User yang sedang login mendaftarkan diri untuk jadwal booking tertentu","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Masukan id booking"}],"responses":{"201":{"description":"Data Booking didapat","content":{"application/json":{"example":{"msg":"Berhasil mendaftar pada booking ini"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"422":{"description":"Gagal ikut booking","content":{"application/json":{"example":{"msg":"Anda sudah terdaftar pada booking ini"}}}}}}},"/api/v1/bookings/{id}/unjoin":{"put":{"summary":"Membatalkan pendaftaran jawal booking","description":"User yang sedang login membatalkan jadwal booking tertentu","security":[{"bearerAuth":[]}],"tags":["Booking"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Masukan id booking"}],"responses":{"201":{"description":"Data Booking didapat","content":{"application/json":{"example":{"msg":"Berhasil batal daftar pada booking ini"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"422":{"description":"Gagal ikut booking","content":{"application/json":{"example":{"msg":"Anda tidak terdaftar pada booking ini"}}}}}}},"/api/v1/schedules":{"get":{"summary":"Mendapatkan jadwal main","description":"Menampilkan list booking yang diikuti oleh user yang sedang melakukan login","security":[{"bearerAuth":[]}],"tags":["Booking"],"responses":{"200":{"description":"Jadwal user ditemukan","content":{"application/json":{"example":{"msg":"Berhasil mendapatkan data list booking","data":{"id":1,"name":"Ahmad Fajar","email":"ahmad@mail.com","remember_me_token":null,"role":"user","is_verified":1,"created_at":"2021-09-25T21:20:04.000+07:00","updated_at":"2021-09-25T21:20:04.000+07:00","listBooking":[{"id":1,"booking_id":1,"user_id":1,"detailBooking":1}]}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/v1/venues/{venue_id}/field":{"get":{"summary":"Mendapatkan data field","description":"Mendapatkan seluruh field berdasarkan venue tertentu. Dapat filter type dengan pilihan \"soccer\", \"mini soccer\", \"futsal\", \"basketball\", \"volleyball\"","security":[{"bearerAuth":[]}],"tags":["Field"],"parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue field"},{"in":"query","name":"type","required":false,"schema":{"type":"string","enum":["soccer","mini soccer","futsal","basketball","volleyball"]},"description":"Pilih jika ingin filter berdasarkan type"}],"responses":{"200":{"description":"Data Field didapat","content":{"application/json":{"example":{"msg":"Berhasil mendapatkan data field","result":[{"id":4,"name":"venue keempat","venue_id":1}]}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}},"post":{"summary":"Mendaftarkan field baru pada suatu venue","description":"Pengguna Owner mendaftarkan field pada venue tertentu. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Field"],"parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue field"}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Field"}},"application/json":{"schema":{"$ref":"#definitions/Field"}}}},"responses":{"201":{"$ref":"#/components/responses/CreatedData"},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/VenueNotFound"},"422":{"description":"Gagal menambahkan Field","content":{"application/json":{"example":{"msg":"Gagal aktivasi akun","error":[{"rule":"required","field":"name","message":"Harap isi field name"},{"rule":"required","field":"type","message":"Harap isi field type"}]}}}}}}},"/api/v1/venues/{venue_id}/field/{id}":{"get":{"summary":"Mencari field berdasarkan id","description":"Pencarian field berdasarkan id field. Detail venue dan jadwal booking pada tanggal tertentu (default hari ini)","security":[{"bearerAuth":[]}],"tags":["Field"],"parameters":[{"in":"path","name":"venue_id","required":false,"schema":{"type":"number","minimum":1},"description":"ID dari venue field. Bersifat Optional jika ingin mencari spesifik dari venue tertentu."},{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari field"}],"responses":{"200":{"description":"Venue dibuat","content":{"application/json":{"example":{"msg":"Data venue ditemukan","data":{"id":1,"name":"field 1 pada venue 1","type":"mini soccer","venue_id":1,"daftarBooking":[{"id":1},{"keterangan":"main futsal"},{"user_id":1},{"field_id":1},{"play_date_start":"2021-09-26T09:00:00.000+07:00"},{"play_date_end":"2021-09-26T19:00:00.000+07:00"}]}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"summary":"Memperbarui field baru pada suatu venue","description":"Pengguna Owner Memperbarui field pada venue tertentu. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Field"],"parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue field"},{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari field"}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"$ref":"#/components/schemas/UpdateFieldBody"},"application/json":{"$ref":"#/components/schemas/UpdateFieldBody"}}},"responses":{"201":{"$ref":"#/components/responses/UpdateData"},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/VenueNotFound"},"422":{"$ref":"#/components/responses/FailedUpdatedData"}}},"delete":{"summary":"Hapus data field","description":"Pengguna Owner dapat menghapus data field","security":[{"bearerAuth":[]}],"tags":["Field"],"parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue field"},{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari field"}],"responses":{"201":{"$ref":"#/components/responses/DeletedData"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"$ref":"#/components/responses/FailedDeleteData"}}}},"/api/hello":{"get":{"tags":["Test"],"summary":"Sample API","parameters":[{"name":"name","description":"Name of the user","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Send hello message","example":{"message":"Hello Guess"}}}}},"/api/v1/register":{"post":{"summary":"Register User baru.","description":"Role terdiri dari 2 yaitu 'user' dan 'owner'\n1. User : pengguna biasa yang dapat melakukan booking ke satu field.\\n\n        Dapat melakukan join/unjoin ke booking tertentu.\n2. Owner: pemilik venue yang menyewakan lapangan (field) untuk dibooking.\n","tags":["Auth"],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/User"}},"application/json":{"schema":{"$ref":"#definitions/User"}}}},"responses":{"201":{"description":"Akun dibuat","content":{"application/json":{"example":{"msg":"Registrasi berhasil, harap cek email anda"}}}},"422":{"description":"Gagal buat akun","content":{"application/json":{"schema":{"$ref":"#/components/schemas/unprocessableEntitySchemas1"},"example":{"msg":"unique","error":[{"rule":"unique","field":"email","message":"Email ini sudah terdaftar"}]}}}}}}},"/api/v1/otp_confirmation":{"post":{"summary":"Verifikasi Akun User.","description":"Verifikasi akun user berdasarkan kode otp pada email","tags":["Auth"],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/otp_confirmationSchema"}},"application/json":{"schema":{"$ref":"#/components/schemas/otp_confirmationSchema"}}}},"responses":{"200":{"description":"Akun sudah terverifikasi","content":{"application/json":{"example":{"msg":"Akun ini telah terverifikasi"}}}},"201":{"description":"Aktivasi akun","content":{"application/json":{"example":{"msg":"Berhasil aktivasi akun"}}}},"422":{"description":"Gagal aktivasi akun","content":{"application/json":{"example":{"msg":"Gagal aktivasi akun","error":[{"rule":"required","field":"email","message":"required validation failed"},{"rule":"required","field":"otp_code","message":"required validation failed"}]}}}}}}},"/api/v1/login":{"post":{"summary":"Login User.","description":"Login user lalu mendapatkan token","tags":["Auth"],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/loginSchema"}},"application/json":{"schema":{"$ref":"#/components/schemas/loginSchema"}}}},"responses":{"200":{"description":"Mendapatkan token login","content":{"application/json":{"example":{"msg":"Login sukses","token":"NA.HbVZojoAxthMDrpAHRveC1-la5lonAIzBXc78Rbvn8EcdHLG0xzPKKa56w4x","role":"owner"}}}},"422":{"description":"Gagal login","content":{"application/json":{"example":{"msg":"Login gagal","error":"E_INVALID_AUTH_PASSWORD: Password mis-match"}}}}}}},"/api/v1/userLogin":{"get":{"summary":"Cek User Login","description":"Mengecek akun yang sedang login","tags":["Auth"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Menampilkan data user yang sedang login","content":{"application/json":{"example":{"data":{"id":1,"name":"Ahmad Fajar","email":"ahmad@mail.com","remember_me_token":null,"role":"user","is_verified":1,"created_at":"2021-09-25T21:20:04.000+07:00","updated_at":"2021-09-25T21:20:04.000+07:00"}}}}}}}},"/api/v1/venue":{"get":{"summary":"List Venue","description":"Mendapatkan list venue atau tempat olahraga. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Venue"],"responses":{"200":{"description":"Data Venue didapat","content":{"application/json":{"example":{"msg":"Berhasil mendapatkan data venue","result":[{"id":4,"name":"venue keempat","phone":"081212341234","address":"Jakarta"}]}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}},"post":{"summary":"Mendaftarkan venue baru","description":"Pengguna Owner mendaftarkan venue. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Venue"],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Venue"}},"application/json":{"schema":{"$ref":"#definitions/Venue"}}}},"responses":{"201":{"$ref":"#/components/responses/CreatedData"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"description":"Gagal menambahkan venue","content":{"application/json":{"example":{"msg":"Gagal aktivasi akun","error":[{"rule":"required","field":"name","message":"Harap isi field name"},{"rule":"minLength","field":"address","message":"Address minimal 5 karakter"},{"rule":"mobile","field":"phone","message":"Harap masukan format nomor telepon dengan benar, tanpa menggunakan kode negara "}]}}}}}}},"/api/v1/venue/{id}":{"get":{"summary":"Mencari venue berdasarkan id","description":"Pengguna Owner Detail mendapatkan venue dan jadwal booking pada tanggal tertentu (default hari ini). Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Venue"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue"},{"in":"query","name":"tanggal","required":false,"schema":{"type":"string","format":"date"},"description":"Tanggal default adalah hari ini. Format tanggal adalah YYYY-MM-DD contoh 2021-12-31."}],"responses":{"200":{"description":"Data venue ditemukan","content":{"application/json":{"example":{"msg":"Data ditemukan","data":{"id":1,"name":"venue pertama","phone":"081212341234","address":"Jakarta","user_id":1,"created_at":"2021-09-26T08:35:40.000+07:00","updated_at":"2021-09-26T08:35:40.000+07:00","fields":[]}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"summary":"Mengubah data venue berdasarkan id","description":"Pengguna Owner Mengubah data venue. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Venue"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue"}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"$ref":"#/components/schemas/UpdateVenueBody"},"application/json":{"$ref":"#/components/schemas/UpdateVenueBody"}}},"responses":{"201":{"$ref":"#/components/responses/UpdateData"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"$ref":"#/components/responses/FailedUpdatedData"}}},"delete":{"summary":"Hapus data venue","description":"Pengguna Owner dapat menghapus data venue. Hanya Pengguna Owner yang memiliki akses !!","security":[{"bearerAuth":[]}],"tags":["Venue"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"ID dari venue"}],"responses":{"201":{"$ref":"#/components/responses/DeletedData"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"$ref":"#/components/responses/FailedDeleteData"}}}}},"definitions":{"Booking":{"type":"object","properties":{"id":{"type":"uint","readOnly":true},"keterangan":{"type":"string"},"userId":{"type":"string","readOnly":true},"fieldId":{"type":"string","description":"ID dari field yang ingin di booking"},"play_date_start":{"type":"string","format":"date","description":"Format waktu adalah yyyy-MM-ddTHH:mm:ss, contoh: 2021-09-27T12:00:00"},"play_date_end":{"type":"string","format":"date","description":"Format waktu adalah yyyy-MM-ddTHH:mm:ss, contoh: 2021-09-27T12:00:00"}},"required":["keterangan","fieldId","play_date_start","play_date_end"]},"Field":{"type":"object","properties":{"id":{"type":"uint","readOnly":true},"name":{"type":"string"},"type":{"type":"string","enum":["soccer","mini soccer","futsal","basketball","volleyball"]},"venueId":{"type":"string","readOnly":true}},"required":["name","type"]},"Schedule":{"type":"object","properties":{"id":{"type":"uint","readOnly":true},"userId":{"type":"uint","readOnly":true},"bookingId":{"type":"uint","readOnly":true}},"required":["keterangan","userId","bookingId"]},"User":{"type":"object","properties":{"id":{"type":"uint","readOnly":true},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"password_confirmation":{"type":"string"},"remember_me_token":{"type":"string","readOnly":true},"role":{"type":"string","enum":["user","owner"]},"is_verified":{"type":"boolean","readOnly":true}},"required":["name","email","password","password_confirmation","role"]},"Venue":{"type":"object","properties":{"id":{"type":"uint","readOnly":true},"name":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"},"user_id":{"type":"string","readOnly":true}},"required":["name","phone","address"]}},"tags":[]}